/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 0.7.0
 * @url https://github.com/feimosi/baguetteBox.js
 */
var baguetteBox=function(){function e(e,n){t(),H=document.querySelectorAll(e),[].forEach.call(H,function(e){var t=D.length;D.push(e.getElementsByTagName("a")),D[t].options=n,[].forEach.call(D[t],function(e,n){y(e,"click",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,o(t),s(n)})})}),P.transforms=p()}function t(){return(h=document.getElementById(C))?(v=document.getElementById(x),b=document.getElementById("previous-button"),E=document.getElementById("next-button"),void(k=document.getElementById("close-button"))):(h=document.createElement("div"),h.id=C,document.getElementsByTagName("body")[0].appendChild(h),v=document.createElement("div"),v.id=x,h.appendChild(v),b=document.createElement("button"),b.id="previous-button",b.innerHTML=B,h.appendChild(b),E=document.createElement("button"),E.id="next-button",E.innerHTML=N,h.appendChild(E),k=document.createElement("button"),k.id="close-button",k.innerHTML=T,h.appendChild(k),b.className=E.className=k.className="baguetteBox-button",void n())}function n(){y(h,"click",function(e){e.target&&"IMG"!==e.target.nodeName&&r()}),y(document.getElementById("previous-button"),"click",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,d()}),y(document.getElementById("next-button"),"click",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,u()}),y(document.getElementById("close-button"),"click",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,r()}),y(h,"touchstart",function(e){w=e.changedTouches[0].pageX}),y(h,"touchmove",function(e){M||(e.preventDefault?e.preventDefault():e.returnValue=!1,touch=e.touches[0]||e.changedTouches[0],touch.pageX-w>40?(M=!0,d()):touch.pageX-w<-40&&(M=!0,u()))}),y(h,"touchend",function(){M=!1}),y(document,"keydown",function(e){switch(e.keyCode){case 37:d();break;case 39:u();break;case 27:r()}})}function o(e){if(A!==e){for(A=e,i(D[e].options);v.firstChild;)v.removeChild(v.firstChild);S.length=0;for(var t=0;t<D[e].length;t++)S.push(a()),v.appendChild(S[t])}}function i(e){e||(e={});for(var t in P)I[t]=P[t],"undefined"!=typeof e[t]&&(I[t]=e[t]);v.style.transition=v.style.webkitTransition="fadeIn"===I.animation?"opacity .4s ease":"","auto"===I.buttons&&("ontouchstart"in window||1===D[A].length)&&(I.buttons=!1),b.style.display=E.style.display=I.buttons?"":"none"}function a(){var e=document.createElement("div");return e.className="full-image",e}function s(e){"block"!==h.style.display&&(L=e,l(L,function(){f(L),g(L)}),m(),h.style.display="block",setTimeout(function(){h.className="visible"},50))}function r(){"none"!==h.style.display&&(h.className="",setTimeout(function(){h.style.display="none"},500))}function l(e,t){var n=S[e];if("undefined"!=typeof n){if(n.getElementsByTagName("img")[0])return void(t&&t());imageElement=D[A][e],imageCaption=imageElement.getAttribute("data-caption")||imageElement.title,imageSrc=c(imageElement);var o=document.createElement("figure"),i=document.createElement("img"),a=document.createElement("figcaption");n.appendChild(o),o.innerHTML='<div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>',i.onload=function(){var e=this.parentNode.querySelector(".spinner");this.parentNode.removeChild(e),!I.async&&t&&t()},i.setAttribute("src",imageSrc),o.appendChild(i),I.captions&&imageCaption&&(a.innerHTML=imageCaption,o.appendChild(a)),I.async&&t&&t()}}function c(e){var t=imageElement.getAttribute("href");if(e.dataset){var n=[];for(var o in e.dataset)"at-"!==o.substring(0,3)||isNaN(o.substring(3))||(n[o.replace("at-","")]=e.dataset[o]);keys=Object.keys(n).sort(function(e,t){return parseInt(e)<parseInt(t)?-1:1});for(var i=window.innerWidth*window.devicePixelRatio,a=0;a<keys.length;a++){if(keys[a]>=i){t=n[keys[a]];break}t=n[keys[a]]}}return t}function u(){L<=S.length-2?(L++,m(),f(L)):(v.className="bounce-from-right",setTimeout(function(){v.className=""},400))}function d(){L>=1?(L--,m(),g(L)):(v.className="bounce-from-left",setTimeout(function(){v.className=""},400))}function m(){var e=100*-L+"%";"fadeIn"===I.animation?(v.style.opacity=0,setTimeout(function(){I.transforms?v.style.transform=v.style.webkitTransform="translate3d("+e+",0,0)":v.style.left=e,v.style.opacity=1},400)):I.transforms?v.style.transform=v.style.webkitTransform="translate3d("+e+",0,0)":v.style.left=e}function p(){var e=document.createElement("div"),t=!1;return t="undefined"!=typeof e.style.perspective||"undefined"!=typeof e.style.webkitPerspective}function f(e){e-L>=I.preload||l(e+1,function(){f(e+1)})}function g(e){L-e>=I.preload||l(e-1,function(){g(e-1)})}function y(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}var h,v,b,E,k,w,B='<svg width="40" height="60" xmlns="http://www.w3.org/2000/svg" version="1.1"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round">&lt;</polyline></svg>',N='<svg width="40" height="60" xmlns="http://www.w3.org/2000/svg" version="1.1"><polyline points="10 10 30 30 10 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round">&gt;</polyline></svg>',T='<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg" version="1.1"><g stroke="rgb(160, 160, 160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/>X</g></svg>',C="baguetteBox-overlay",x="baguetteBox-slider",I={},P={captions:!0,buttons:"auto",async:!1,preload:2,animation:"slideIn"},L=0,A=-1,M=!1,H=[],D=[],S=[];return Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=this.length,o=0;n>o;o++)e.call(t,this[o],o,this)}),{run:e}}();